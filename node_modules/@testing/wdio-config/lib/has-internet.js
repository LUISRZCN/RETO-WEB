"use strict";
exports.__esModule = true;
exports.hasInternet = void 0;
var child_process_1 = require("child_process");
var path_1 = require("path");
var dns_1 = require("dns");
var ME = path_1.join(__dirname, 'has-internet.js');
var RUN_ME = "node " + ME;
var IS_SPAWN = (process.argv[1] || '').endsWith("/has-internet.js");
if (IS_SPAWN) {
    var timeout_1 = setTimeout(function () {
        process.exit(2);
    }, 1000);
    dns_1.resolve('www.google.com', function (err) {
        clearTimeout(timeout_1);
        if (err) {
            console.log("Not connected");
            process.exit(1);
        }
        else {
            console.log("Connected");
        }
    });
}
function hasInternet() {
    try {
        child_process_1.execSync(RUN_ME);
        return true;
    }
    catch (e) {
        console.log("User doesn't seem to have internet connection");
        return false;
    }
}
exports.hasInternet = hasInternet;
//# sourceMappingURL=has-internet.js.map