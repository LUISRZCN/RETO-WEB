## Wdio Shadow Service

`wdio-shadow-service` is a WebdriverIO service which offers a set of utilities included with the purpose of making our life easier when interaction with DOM elements occurs during an e2e testing process:

- It allows us to interact with Shadow DOM elements directly, as if we were dealing with standard selectors, in a way we don't need to worry about nested elements and compatibility among browsers.
- It contributes to make our interaction with iframes much more simple and declarative with the help of [page objects](https://globaldevtools.bbva.com/bitbucket/projects/BGT/repos/e2e-js-framework/browse/packages/wdio-page-objects).
- It facilitates the change between native and webview contexts in hybrid mobile applications.
- It provides us with customizable configurations which helps us assure that DOM elements are fully available by the time they're interacted.
- It makes WebdriverIO browser and element commands to work homogeneously in all popular browsers and mobile platforms, giving solution to known bugs in browsers like Safari.

-----------------------

### 1. Installation

The service has been conceived to be integrated in any wdio-powered framework prepared to work with WebdriverIO custom services.  

---

#### 1.1 Integration with Acis

If you're already using [Acis](https://globaldevtools.bbva.com/bitbucket/projects/BGT/repos/e2e-js-framework/browse) to run e2e tests, `wdio-shadow-service` is available by default, and no additional steps are required:

```json
{
    "dependencies": {
        "@testing/acis-v6": "^2.1.6"
    }
}
```  

---

#### 1.2 Integration with other frameworks

If you're using a different WebdriverIO-powered e2e framework but would like to integrate `wdio-shadow-service` as part of your testing suite, the best way to proceed is by defining the dependency in your project's **package.json** (choose carefully if it should be installed as dependency or devDependency):

```json
{
    "dependencies": {
        "@testing/wdio-shadow-service": "^2.1.6"
    }
}
```

You can simply do it by executing:

```bash
    npm install @testing/wdio-shadow-service
```    

Additionally, the service needs to be added to the **services** list from your project's `wdio.conf.js` file:

```js
    services: [..., [require('@testing/wdio-shadow-service').ShadowDomService, {}]]
```  

-----------------------

### 2. Commands and Utilities

`wdio-shadow-service` provides you with a extended sequence of commands and utilities with the purpose of enhancing some of the existing functionalities included either into the browser object or element objects.

This sequence of commands and utilities can be categorized into 5 types, you may want to check them out for more info:

- 2.1 **[Shadow DOM](docs/shadow-dom.md)**
- 2.2 **[Iframes](docs/iframes.md)**
- 2.3 **[Mobile contexts](docs/mobile-contexts.md)**
- 2.4 **[Safe Mode](docs/safe-mode.md)**
- 2.5 **[Private text](docs/private-text.md)**

---

Did this documentation fullfilled your expectations? If you miss something, [let us know](mailto:testing.global.group@bbva.com)!