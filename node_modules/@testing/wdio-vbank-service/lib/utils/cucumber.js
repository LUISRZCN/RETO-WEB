"use strict";
exports.__esModule = true;
exports.getVBankWorkspacePath = void 0;
var path = require("path");
var crypto = require("crypto");
var lodash_1 = require("lodash");
var normalizeString = function (string, trim) {
    if (trim === void 0) { trim = false; }
    var result = lodash_1.kebabCase(lodash_1.deburr(string));
    if (trim) {
        result = result.substring(0, 128);
    }
    return result;
};
function hash(data) {
    return crypto.createHash('md5').update(data).digest('hex');
}
var getWorkspaceHash = function (featureName, scenarioName) {
    var processedFeatureName = normalizeString(featureName);
    var processedScenarioName = normalizeString(scenarioName);
    var fullWorkspacePath = [processedFeatureName, processedScenarioName].join('/');
    return hash(fullWorkspacePath);
};
var getWorkspacePath = function (featureName, scenarioName) {
    var processedFeatureName = normalizeString(featureName, true);
    var processedScenarioName = normalizeString(scenarioName, true) + '_' + getWorkspaceHash(featureName, scenarioName);
    return path.join(processedFeatureName, processedScenarioName);
};
var getFeatureName = function (feature) {
    var name = feature.name;
    return name;
};
var getScenarioName = function (scenario) {
    var name = scenario.name;
    return name;
};
/** @internal */
exports.getVBankWorkspacePath = function (scenario, feature) {
    var scenarioName = getScenarioName(scenario);
    var featureName = getFeatureName(feature);
    return getWorkspacePath(featureName, scenarioName);
};
//# sourceMappingURL=cucumber.js.map