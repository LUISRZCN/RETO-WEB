## Cucumber Runner

The present module includes a Cucumber-steps register that contributes to the CucumberJs global context by adding some enhancements in order to make our life easier when implementing tests cases.

These enhancements are reflected in the following types of objects:

- **[World](docs/classes/world.World.md) -** It makes reference to the Cucumber's global context, where some extra functionality has been added so we can interact easily with users' profiles stored in DataManager.
- **[Decorators - (Given, When, Then)](docs/modules/steps.md) -** [Special functions](https://github.com/cucumber/cucumber-js/blob/main/docs/support_files/step_definitions.md) that bind a given Gherkin expression to an action or event defined in a step Class' method.  
- **[Helper Functions](docs/modules/steps.md) -** Functions which provides us with support when implementing a test case.

To get benefit from these enhacements, we just need to import the Cucumber functions we're about to use from this package:

```ts
    import { Given, When, Then, getStepClassInstance, World } from '@testing/cucumber-runner';
```  
-----------------------

### Example Case
 
```
    @checkout
    Feature: CheckOut
    
    Scenario: Should get to chechout
    
        Given I'm a user with tags "user" [framework]
        And I'm in the Checkout form
        When I fill in the user data
        Then I should see the submit button enabled
```  


```ts
    import { Given, When, Then, World } from '@testing/cucumber-runner';
    import { ExamplePage } from "./example.page";
    import { pageProvider } from "@testing/wdio-page-objects";

    // (1) Definition of a step Class defined in a **/*.step.ts file
    export class ExampleSteps {
        world: World;
    
        constructor(world: World) {
          this.world = world;
        }
        
        // (2) Given decorator: pageProvider api is used to go to page
        @Given('I\'m in the Example form'$/)
        goToExampleForm() {
            pageProvider.go(ExamplePage);
        }
    
        // (3) When decorator: pageProvider api is used to set an action
        @When('I fill in the user data')
        fillUserData() {
            pageProvider
                .wait(ExamplePage)
                // (4) World context: get users' data retrieved previously from DataManager
                .fillUserData(this.world.users.get().data as User);
        }
    
        // (5) Then decorator: assertion to check the action has been executed as expected
        @Then('I should see the submit button enabled')
        currentPageIsSuccess() {
            expect(pageProvider.wait(ExamplePage).isButtonEnabled()).to.be.true;
        }
    }
``` 

---

Did this documentation fullfilled your expectations? If you miss something, [let us know](mailto:testing.global.group@bbva.com)!