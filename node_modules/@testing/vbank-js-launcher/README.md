# JS VBank Launcher

## Usage

Install with `npm i @testing/vbank-js-launcher` and import the package in your js project so you can launch a vBank server like shown below:

```js
const VBankLauncher = require('@testing/vbank-js-launcher');

async function doIt() {
    const vbank = new VBankLauncher();

    await vbank.start({
        logFile: 'vbank.log',
        workspace: 'path/to/workspace',
        ssl: {
            certificates: ['/Users/User/BBVA/testing/cert/CA/localhost/localhost.crt'],
            privateKey: '/Users/User/BBVA/testing/cert/CA/localhost/localhost.decrypted.key'
        },
        backends: [{
            name: 'sample',
            realUrl: 'http://my-backend.com',
            protocol: 'http',
            port: '5005',
            sessionLocator: 'head.somehead',
            cors: {
                headers: ['X-MY-HEAER','X-OTHER-HEADER'],
                methods: ['GET','POST']
            }
        }],
        recording: true,
        verbose: true
    });

    await vbank.end();
}

doIt();

```

### Custom SSL certificates

```js
{
    logFile: 'vbank.log',
    workspace: 'path/to/workspace',
    ssl: {
        certificates: ['/Users/User/BBVA/testing/cert/CA/localhost/localhost.crt'],
        privateKey: '/Users/User/BBVA/testing/cert/CA/localhost/localhost.decrypted.key'
    },
    backends: [{
        name: 'sample',
        realUrl: 'https://my-backend.com',
        protocol: 'https',
        port: '5005',
        sessionLocator: 'head.somehead',
        cors: {
            headers: ['X-MY-HEAER','X-OTHER-HEADER'],
            methods: ['GET','POST']
        }
    }],
    recording: false
}
```